(window.webpackJsonp=window.webpackJsonp||[]).push([[347,97],{2538:function(t,e,r){var content=r(3266);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(44).default)("49eb7a78",content,!0,{sourceMap:!1})},2893:function(t,e,r){var content=r(3948);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(44).default)("8da84596",content,!0,{sourceMap:!1})},3051:function(t,e,r){"use strict";var n={props:{size:{type:String,default:"1em"}}},o=r(7),component=Object(o.a)(n,(function(){var t=this,e=t._self._c;return e("svg",t._b({staticClass:"ui-svg-inline",attrs:{width:t.size,height:t.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}},"svg",t.$attrs,!1),[e("path",{attrs:{d:"M18.5,9L8.9,3.5C8.4,3.2,7.8,3,7.2,3C5.3,3,3.8,4.5,3.8,6.4v11.2c0,1.9,1.5,3.4,3.4,3.4c0.6,0,1.2-0.2,1.7-0.5l9.7-5.6c0.5-0.3,0.9-0.7,1.2-1.2C20.7,12.1,20.2,10,18.5,9z"}})])}),[],!1,null,null,null);e.a=component.exports},3076:function(t,e,r){"use strict";var n=r(9);r(69);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}r(571);var c=r(3051),d={props:{size:{type:String,default:"1em"}}},m=r(7),h=Object(m.a)(d,(function(){var t=this,e=t._self._c;return e("svg",t._b({staticClass:"ui-svg-inline",attrs:{width:t.size,height:t.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}},"svg",t.$attrs,!1),[e("path",{attrs:{d:"M7.5,2C5.6,2,4,3.6,4,5.5v13C4,20.4,5.6,22,7.5,22s3.5-1.6,3.5-3.5v-13C11,3.6,9.4,2,7.5,2z M16.5,2C14.6,2,13,3.6,13,5.5v13c0,1.9,1.6,3.5,3.5,3.5s3.5-1.6,3.5-3.5v-13C20,3.6,18.4,2,16.5,2z"}})])}),[],!1,null,null,null).exports,f=r(2545),y={props:{size:{type:String,default:"1em"}}},_=Object(m.a)(y,(function(){var t=this,e=t._self._c;return e("svg",t._b({staticClass:"ui-svg-inline",attrs:{width:t.size,height:t.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}},"svg",t.$attrs,!1),[e("path",{attrs:{d:"M18.7,7.2c-0.4-0.4-1-0.4-1.4,0l-7.5,7.5l-3.1-3.1c0,0,0,0,0,0c-0.4-0.4-1-0.4-1.4,0c-0.4,0.4-0.4,1,0,1.4l3.8,3.8c0.2,0.2,0.4,0.3,0.7,0.3c0.3,0,0.5-0.1,0.7-0.3l8.2-8.2C19.1,8.2,19.1,7.6,18.7,7.2z"}})])}),[],!1,null,null,null).exports,v=r(1599),w=r(1162),F=r(262),P=r.n(F);function k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?k(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var O={components:{UisPlay:c.a,UisPause:h,UisEllipsisV:f.a,UisCheck:_,BFormInput:v.a,BDropdown:w.a},props:{isPlaying:{type:Boolean,default:!0},animation:{type:Object,default:()=>{}},isLoading:{type:String,default:null},isCopied:{type:Boolean,default:!1},client:{type:String,default:null},item:{type:Object,default:()=>{}}},data:()=>({isValidValue:!0}),computed:{currentFrame(){return Math.round(this.animation.currentFrame)},totalFrame(){return Math.round(this.animation.totalFrames)}},methods:{changeFrame(t){t&&t>=0&&t<=this.totalFrame?(this.isValidValue=!0,this.isPlaying&&this.$emit("pause"),this.animation.goToAndStop(parseFloat(t),!0)):this.isValidValue=!1,this.track(t)},track:P()((function(t){this.$analytics.track("player-control",{route_name:this.$route.name,route_path:this.$route.path,action:"change-frame",data:x(x({client:this.client,id:this.item.id,name:this.item.name,slug:this.item.slug,price:this.item.payable_price,licenseId:this.item.license_id},this.$store.getters["brandPalettes/selectedPalette"]&&{brand_palette_id:this.$store.getters["brandPalettes/selectedPalette"].id}),{},{frame:t,totalFrame:this.totalFrame})})}),1e3)}},$=r(3265);var z=Object(m.a)(O,(function(){var t=this,e=t._self._c;return e("div",{class:t.$style.controlsWrapper},[t.isPlaying?e("div",{directives:[{name:"track",rawName:"v-track",value:{event:"player-control",data:{route_name:t.$route.name,route_path:t.$route.path,action:"pause",data:l(l({client:t.client,id:t.item.id,name:t.item.name,slug:t.item.slug,price:t.item.payable_price,licenseId:t.item.license_id},t.$store.getters["brandPalettes/selectedPalette"]&&{brand_palette_id:t.$store.getters["brandPalettes/selectedPalette"].id}),{},{frame:t.currentFrame,totalFrame:t.totalFrame})}},expression:"{\n      event: 'player-control',\n      data: {\n        route_name: $route.name,\n        route_path: $route.path,\n        action: 'pause',\n        data: {\n          client,\n          id: item.id,\n          name: item.name,\n          slug: item.slug,\n          price: item.payable_price,\n          licenseId: item.license_id,\n          ...($store.getters['brandPalettes/selectedPalette'] && {\n            brand_palette_id:\n              $store.getters['brandPalettes/selectedPalette'].id,\n          }),\n          frame: currentFrame,\n          totalFrame: totalFrame,\n        },\n      },\n    }"}],class:["d-flex p-2 mr-2-5",t.$style.controlsBtn],on:{click:function(e){return t.$emit("pause")}}},[e("uis-pause",{attrs:{size:"24"}})],1):e("div",{directives:[{name:"track",rawName:"v-track",value:{event:"player-control",data:{route_name:t.$route.name,route_path:t.$route.path,action:"play",data:l(l({client:t.client,id:t.item.id,name:t.item.name,slug:t.item.slug,price:t.item.payable_price,licenseId:t.item.license_id},t.$store.getters["brandPalettes/selectedPalette"]&&{brand_palette_id:t.$store.getters["brandPalettes/selectedPalette"].id}),{},{frame:t.currentFrame,totalFrame:t.totalFrame})}},expression:"{\n      event: 'player-control',\n      data: {\n        route_name: $route.name,\n        route_path: $route.path,\n        action: 'play',\n        data: {\n          client,\n          id: item.id,\n          name: item.name,\n          slug: item.slug,\n          price: item.payable_price,\n          licenseId: item.license_id,\n          ...($store.getters['brandPalettes/selectedPalette'] && {\n            brand_palette_id:\n              $store.getters['brandPalettes/selectedPalette'].id,\n          }),\n          frame: currentFrame,\n          totalFrame: totalFrame,\n        },\n      },\n    }"}],class:["d-flex p-2 mr-2-5",t.$style.controlsBtn],on:{click:function(e){t.$emit("play"),t.isValidValue=!0}}},[e("uis-play",{attrs:{size:"24"}})],1),t._v(" "),e("b-form-input",{ref:"rangeInput",class:["mr-2-5",t.$style.rangeInput],style:{background:"linear-gradient(to right, #00c6ff 0%, #00c6ff ".concat(100*t.currentFrame/t.totalFrame,"%, #d9e0e6  ").concat(100*t.currentFrame/t.totalFrame,"%, #d9e0e6 100%)")},attrs:{value:t.currentFrame,max:t.totalFrame,min:"0",type:"range"},on:{input:t.changeFrame}}),t._v(" "),e("div",{class:["d-flex justify-content-center align-items-center mr-2-5",t.$style.frameInputWrapper,t.isPlaying||t.isValidValue?null:t.$style.errorState]},[e("b-form-input",{style:{width:"".concat(8*t.totalFrame.toString().length,"px")},attrs:{value:t.currentFrame,max:t.totalFrame,min:"0",type:"number"},on:{input:t.changeFrame,focus:function(e){return t.$emit("pause")}}}),t._v(" "),e("label",{staticClass:"mb-0 ml-2"},[t._v("/ "+t._s(t.totalFrame))])],1),t._v(" "),e("b-dropdown",{staticClass:"p-0 mr-2-5",attrs:{"toggle-class":t.$style.dropdownBtn,variant:"zero","no-caret":"",right:"",lazy:""},on:{show:function(e){return t.$emit("pause")}}},[e("template",{slot:"button-content"},[e("uis-ellipsis-v",{attrs:{size:"16"}})],1),t._v(" "),e("button",{class:["btn btn-sm btn-block",t.isCopied?"has-icon":null,"copy"===t.isLoading?"ajax-loading-light disabled":null,t.$style.actionBtn],attrs:{type:"button"},on:{click:function(e){return t.$emit("copySvg")}}},[t.isCopied?e("span",[e("uis-check",{staticClass:"mr-2-5",attrs:{size:"24"}}),t._v("\n        "+t._s(t.$t("buttons.copied"))+"\n      ")],1):e("span",[t._v(t._s(t.$t("buttons.copy_as_format",{format:"SVG"})))])]),t._v(" "),e("button",{class:["btn btn-sm btn-block","download"===t.isLoading?"ajax-loading-light disabled":null,t.$style.actionBtn],attrs:{type:"button"},on:{click:function(e){return t.$emit("downloadSvg")}}},[t._v("\n      Download as SVG\n    ")])],2)],1)}),[],!1,(function(t){this.$style=$.default.locals||$.default}),null,null);e.a=z.exports},3265:function(t,e,r){"use strict";var n=r(2538),o=r.n(n);r.d(e,"default",(function(){return o.a}))},3266:function(t,e,r){var n=r(43)((function(i){return i[1]}));n.push([t.i,".controlsWrapper_2F2lz{display:flex;align-items:center}.controlsWrapper_2F2lz .controlsBtn_iLL8-{cursor:pointer}.controlsWrapper_2F2lz .rangeInput_Mipqq{-webkit-appearance:none;appearance:none;width:207px;height:4px;outline:none;border-radius:12px;opacity:1;cursor:pointer;transition:opacity 0.2s}.controlsWrapper_2F2lz .rangeInput_Mipqq::-webkit-slider-runnable-track{height:4px}.controlsWrapper_2F2lz .rangeInput_Mipqq::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:16px;border-radius:8px;background:#3aa0ff;cursor:pointer;margin-top:-7px}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR{max-width:108px;height:16px;border-radius:4px;background:#EBEDF5;padding:0 .5rem;font-size:10px}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR:hover,.controlsWrapper_2F2lz .frameInputWrapper_w4ghR:focus-within{background:none;box-shadow:0 0 0 1px #D8DBEB}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR:hover input,.controlsWrapper_2F2lz .frameInputWrapper_w4ghR:focus-within input{background:none}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR.errorState_gkgGJ{box-shadow:0 0 0 1px #DE524C;background:none}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR.errorState_gkgGJ input{color:#DE524C !important;background:none}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR input{height:14px;border:none;text-align:right;-moz-appearance:textfield;background:#EBEDF5;font-size:10px;padding:.125rem 0 .125rem .25rem;border-radius:0}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR input::-webkit-outer-spin-button,.controlsWrapper_2F2lz .frameInputWrapper_w4ghR input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR input:active,.controlsWrapper_2F2lz .frameInputWrapper_w4ghR input:focus{outline:none;box-shadow:none}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR input:focus-visible{outline:none}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR label{color:#596080}.controlsWrapper_2F2lz .dropdownBtn_Fdbgs{width:24px;height:24px;display:flex;justify-content:center;align-items:center;padding:.25rem;border:none;background:none;box-shadow:none !important;background-color:none !important;border-radius:4px}.controlsWrapper_2F2lz .dropdownBtn_Fdbgs:hover,.controlsWrapper_2F2lz .dropdownBtn_Fdbgs:active,.controlsWrapper_2F2lz .dropdownBtn_Fdbgs:focus,.controlsWrapper_2F2lz .dropdownBtn_Fdbgs.visited_dkBp8{outline:none;background:#EBEDF5 !important}.controlsWrapper_2F2lz .actionBtn_bDfSV{background-color:#fff;color:#424866;text-align:left;justify-content:left}.controlsWrapper_2F2lz .actionBtn_bDfSV:hover{color:#fff;background-color:#0092e4}.controlsWrapper_2F2lz .actionBtn_bDfSV:active,.controlsWrapper_2F2lz .actionBtn_bDfSV:focus{box-shadow:none;outline:none}.controlsWrapper_2F2lz .actionBtn_bDfSV span{display:contents}\n",""]),n.locals={controlsWrapper:"controlsWrapper_2F2lz",controlsBtn:"controlsBtn_iLL8-",rangeInput:"rangeInput_Mipqq",frameInputWrapper:"frameInputWrapper_w4ghR",errorState:"errorState_gkgGJ",dropdownBtn:"dropdownBtn_Fdbgs",visited:"visited_dkBp8",actionBtn:"actionBtn_bDfSV"},t.exports=n},3947:function(t,e,r){"use strict";var n=r(2893),o=r.n(n);r.d(e,"default",(function(){return o.a}))},3948:function(t,e,r){var n=r(43),o=r(356),l=r(1349),c=n((function(i){return i[1]})),d=o(l);c.push([t.i,".modal_iaY5v .modal-dialog{width:100vw;height:100vh;max-width:initial;margin:0 auto;padding:3.125rem}@media (max-width: 1023.98px){.modal_iaY5v .modal-dialog{margin:0 auto}}.modal_iaY5v .modal-dialog .modal-content{width:100%;margin:0 auto;height:100%;border-radius:0;background:transparent}.modal_iaY5v .modal-dialog .modal-content .modal-body{width:100%;height:100%;padding:0}.modal_iaY5v .modal-dialog .modal-content .modal-body>div{width:100%;height:100%;text-align:center;display:flex;align-items:center;justify-content:center}.modal_iaY5v .modal-dialog .modal-content .modal-body img,.modal_iaY5v .modal-dialog .modal-content .modal-body video{max-width:100%;max-height:100%;margin:0 auto;background:#fff;pointer-events:none}.modal_iaY5v .close_GocI3{display:block;position:fixed;top:.9375rem;right:.9375rem;z-index:9999;border-radius:50%;background:#fff;font-size:1.5rem;color:#000;box-shadow:none !important}.lottie_71yYH{width:auto;height:100%;overflow:hidden;margin:0 auto;background:#fff}.watermark_XG40e:before{position:absolute;content:'';background-image:url("+d+");background-repeat:no-repeat;background-position:center;opacity:0.7;width:100%;height:100%;pointer-events:none;z-index:1042;top:0;left:0}.controlPosition_GDVpw{position:absolute;bottom:8px;left:50%;transform:translateX(-50%)}\n",""]),c.locals={modal:"modal_iaY5v",close:"close_GocI3",lottie:"lottie_71yYH",watermark:"watermark_XG40e",controlPosition:"controlPosition_GDVpw"},t.exports=c},5335:function(t,e,r){"use strict";r.r(e);var n=r(9),o=r(10),l=(r(25),r(39),r(27),r(1173)),c=r(5463),d=r(1220),m=r.n(d),h=r(1192),f=r(68),y=r(1274),_=r(1247),label=r(1227),v=r(3076);function w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function F(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?w(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var P={components:{BModal:c.a,UilTimes:l.a,Controls:v.a},mixins:[y.a,label.a,_.a],props:{item:{type:Object,default:()=>{}},brandPreview:{type:String,default:null},currentPreviewUrl:{type:String,default:null},hasCustomControls:{type:Boolean,default:!1}},data:()=>({isPlaying:!0,animationData:null,player:null,isCopied:!1,isLoadingAction:null}),computed:{showWatermark(){return!this.canItemDownload(this.item)}},methods:{generateSrcSetPx:f.c,generateMultipleFormats:f.a,onShown(){"lottie"===this.item.asset&&this.brandPreview&&(this.player=this.$refs.lottiePlayer,this.player.play(),this.hasCustomControls&&(this.animationData=this.player.getLottie()))},play(){this.player.play(),this.isPlaying=!0},pause(){this.player.pause(),this.isPlaying=!1},onClose(){this.$modal.close("modalItemPreviewFs")},preHandleAuth(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this.handleAuth({trackAuth:()=>this.track("auth")})){if(this.canDownload)return!0;if(this.$store.state.user.previousSubscription)this.track("modal-update-payment-details",t),this.$modal.open({id:"modalUpdatePaymentDetails",component:r.e(395).then(r.bind(null,2164)),options:{track:!0,modalOnModal:!0,extraTrackingData:{from_location:"pdp-fs-player-control-".concat(t,"-svg"),from_asset:this.item.asset}},props:{previousSubscription:this.$store.state.user.previousSubscription}});else{this.track("pricing",t);var e="".concat("https://iconscout.com").concat(this.$router.resolve(this.$helper.localize({name:"pricing"})).href);window.open(e,"_blank")}}return!1},onDownload(){var t=this;return Object(o.a)((function*(){if(t.preHandleAuth("download"))if(t.isLoadingAction="download",yield t.preDownload({format:"svg",canBeBranded:!0,downloadUrl:!0,nuxtLoader:!1,location:"pdp-fs-preview",action:"player-controls-download"}))try{t.player.snapshot()}catch(e){console.error(e),t.toastMessage("Failed to download file")}finally{t.isLoadingAction=null}else{t.isLoadingAction=null;var e="Failed to fetch URL";console.error(e),t.toastMessage(e)}}))()},onCopy(){var t=this;return Object(o.a)((function*(){if(t.preHandleAuth())if(t.isLoadingAction="copy",yield t.preDownload({format:"svg",canBeBranded:!0,downloadUrl:!0,nuxtLoader:!1,location:"pdp-fs-preview",action:"player-controls-copy"}))try{t.isCopied=!0;var e=(new DOMParser).parseFromString(t.player.snapshot(!1),"text/xml");e.getElementsByTagName("svg")[0].setAttribute("id",t.item.name),m()((new XMLSerializer).serializeToString(e)),setTimeout((()=>{t.isCopied=!1}),5e3)}catch(r){console.error(r),t.toastMessage("Failed to copy file")}finally{t.isLoadingAction=null}else{t.isLoadingAction=null;var r="Failed to fetch URL";console.error(r),t.toastMessage(r)}}))()},track(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"copy";this.$analytics.track("pdp-preview",{route_path:this.$route.path,route_name:this.$route.name,location:"pdp-fs-player-controls",action:e,data:F({postAction:t},Object(h.a)(this,{item:this.item,canBranded:!0}))})},toastMessage(title){this.$root.$bvToast.toast(title,{title:title,variant:"danger",toaster:"b-toaster-bottom-center",solid:!1,noAutoHide:!1,bodyClass:"d-none"})}}},k=P,x=r(3947),O=r(7);var component=Object(O.a)(k,(function(){var t=this,e=t._self._c;return e("b-modal",{attrs:{id:"modalItemPreviewFs","modal-class":t.$style.modal,visible:"",centered:"","no-fade":"","hide-header":"","hide-footer":""},on:{shown:t.onShown,hidden:t.onClose}},[e("a",{class:["btn btn-md btn-icon",t.$style.close],attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onClose.apply(null,arguments)}}},[e("uil-times")],1),t._v(" "),"lottie"===t.item.asset?[t.brandPreview?e("div",{staticClass:"flex-column"},[e("lottie-player",{ref:"lottiePlayer",class:[t.$style.lottie,t.hasCustomControls?"pb-8":null,t.showWatermark?t.$style.watermark:null],attrs:{src:t.brandPreview,loop:""}}),t._v(" "),t.hasCustomControls&&t.animationData?e("controls",{class:t.$style.controlPosition,attrs:{"is-playing":t.isPlaying,animation:t.animationData,"is-loading":t.isLoadingAction,"is-copied":t.isCopied,item:t.item,client:"pdp-fs"},on:{copySvg:t.onCopy,downloadSvg:t.onDownload,play:t.play,pause:t.pause}}):t._e()],1):e("div",{on:{click:t.onClose}},[e("video",{attrs:{src:t.currentPreviewUrl,autoplay:"",muted:"",loop:"",playsinline:"",type:"video/mp4"},domProps:{muted:!0}})])]:[t.brandPreview&&t.isLoggedIn?e("div",{class:t.showWatermark?t.$style.watermark:null,on:{click:t.onClose}},[e("img",{key:t.item.id,attrs:{src:t.brandPreview,alt:t.name}})]):e("div",{on:{click:t.onClose}},[e("picture",[e("source",t._b({},"source",t.generateMultipleFormats({url:t.currentPreviewUrl,h:700}),!1)),t._v(" "),e("img",t._b({attrs:{alt:t.name}},"img",t.generateSrcSetPx({url:t.currentPreviewUrl,h:700,format:"webp"}),!1))])])]],2)}),[],!1,(function(t){this.$style=x.default.locals||x.default}),null,null);e.default=component.exports}}]);
